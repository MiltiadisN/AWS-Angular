<div class="user-container">
      <div class="card user-card">
        <div class="card-body">
          <div class="form-group">
            <h1 class="login-header">Reset Password</h1>
          </div>

          <div class="form-group">
            <label>Email:</label>
            <input type="email" class="form-control" name="email" [(ngModel)]="user.email">
          </div>

          <form [formGroup]="userForm" (ngSubmit)="resetPassword()">

          <div class="form-group">
            <label>Code:</label>
           <input type="text" class="form-control" name="code" formControlName="code">
            <div *ngIf="userForm.get('code')?.invalid && (userForm.get('code')?.dirty || userForm.get('code')?.touched)">
              <div *ngIf="userForm.get('code')?.errors?.['required']" class="text-danger">Code is required.</div>
            </div>
          </div>

            <div class="form-group">
              <label>Password:</label>
              <div class="custom-input">
                <input [attr.type]="showNewPassword  ? 'text':'password'"
                       class="form-control"
                       type="password"
                       formControlName="password">
                <div class="input-group-append" (click)="togglePasswordVisibility()">
                  <i class="bi" [ngClass]="showNewPassword ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </div>
              </div>

              <div
                *ngIf="userForm.get('password')?.invalid && (userForm.get('password')?.dirty || userForm.get('password')?.touched)">
                <div *ngIf="userForm.get('password')?.errors?.['required']" class="text-danger">Password is required.
                </div>
                <div *ngIf="userForm.get('password')?.errors?.['minlength']" class="text-danger">Password must be at least
                  8 characters long.
                </div>
                <div *ngIf="userForm.get('password')?.errors?.['pattern']" class="text-danger">
                  Password must contain at least:
                  <br>
                  1 number
                  <br>
                  1 special character
                  <br>
                  1 uppercase letter
                  <br>
                  1 lowercase letter.
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Confirm Password:</label>
              <div class="custom-input">
                <input [attr.type]="showConfirmPassword ? 'text':'password'"
                       formControlName="confirmPassword"
                       class="form-control"
                       type="password">
                <div class="input-group-append" (click)="toggleConfirmPasswordVisibility()" >
                  <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </div>
              </div>
              <div
                *ngIf="userForm.hasError('mismatch') && (userForm.get('confirmPassword')?.dirty || userForm.get('confirmPassword')?.touched)"
                class="text-danger">
                Passwords do not match.
              </div>
            </div>

          <div class="card-footer">
            <button class="btn btn-success" type="submit" [disabled]="userForm.invalid">Reset Password</button>
          </div>
          </form>
        </div>
    </div>
</div>

